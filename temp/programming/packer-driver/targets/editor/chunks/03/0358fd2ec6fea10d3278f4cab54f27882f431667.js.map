{"version":3,"sources":["file:///D:/CocosCreator/BuildLevel/assets/scripts/StableMirror.ts"],"names":["_decorator","Component","MapInfo","matrix1","ccclass","property","StableMirror","squarex","squarey","onLoad","x","node","getPosition","y","xstart1","xend1","ystart1","yend1","Math","floor","totalsize","setPosition","xshift1","yshift1","setRotationFromEuler","dir","id","mirrordir"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;AACZC,MAAAA,O,iBAAAA,O;;AACAC,MAAAA,O,iBAAAA,O;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;8BAGaM,Y,WADZF,OAAO,CAAC,cAAD,C,2BAAR,MACaE,YADb,SACkCL,SADlC,CAC4C;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAKjCM,OALiC;AAAA,eAMjCC,OANiC;AAAA;;AAQxCC,QAAAA,MAAM,GAAG;AACL,cAAIC,CAAQ,GAAG,KAAKC,IAAL,CAAUC,WAAV,GAAwBF,CAAvC;AACA,cAAIG,CAAQ,GAAG,KAAKF,IAAL,CAAUC,WAAV,GAAwBC,CAAvC;;AACA,cAAGH,CAAC,IAAE;AAAA;AAAA,kCAAQI,OAAR,EAAH,IAAwBJ,CAAC,IAAE;AAAA;AAAA,kCAAQK,KAAR,EAA3B,IAA8CF,CAAC,IAAE;AAAA;AAAA,kCAAQG,OAAR,EAAjD,IAAsEH,CAAC,IAAE;AAAA;AAAA,kCAAQI,KAAR,EAA5E,EAA4F;AACxF,iBAAKV,OAAL,GAAeW,IAAI,CAACC,KAAL,CAAW,CAACT,CAAC,GAAG;AAAA;AAAA,oCAAQI,OAAR,EAAL,IAAwB;AAAA;AAAA,oCAAQM,SAAR,EAAnC,CAAf;AACA,iBAAKZ,OAAL,GAAeU,IAAI,CAACC,KAAL,CAAW,CAACN,CAAC,GAAG;AAAA;AAAA,oCAAQG,OAAR,EAAL,IAAwB;AAAA;AAAA,oCAAQI,SAAR,EAAnC,CAAf;AACH;;AAED,eAAKT,IAAL,CAAUU,WAAV,CAAsB,KAAKd,OAAL,GAAa;AAAA;AAAA,kCAAQa,SAAR,EAAb,GAAmC;AAAA;AAAA,kCAAQE,OAAR,EAAzD,EAA4E,KAAKd,OAAL,GAAa;AAAA;AAAA,kCAAQY,SAAR,EAAb,GAAmC;AAAA;AAAA,kCAAQG,OAAR,EAA/G,EAAkI,CAAlI;AACA,eAAKZ,IAAL,CAAUa,oBAAV,CAA+B,CAA/B,EAAkC,CAAlC,EAAqC,KAAKC,GAAL,GAAS,EAA9C;AACA;AAAA;AAAA,kCAAQ,KAAKlB,OAAL,GAAa,EAAb,GAAkB,KAAKC,OAA/B,EAAwCkB,EAAxC,GAA6C,KAAKA,EAAlD;AACA;AAAA;AAAA,kCAAQ,KAAKnB,OAAL,GAAa,EAAb,GAAkB,KAAKC,OAA/B,EAAwCmB,SAAxC,GAAoD,KAAKF,GAAzD;AACH;;AApBuC,O,qEACvCpB,Q;;;;;iBACW,C;;8EACXA,Q;;;;;iBACY,C;;;AAmBjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["\nimport { _decorator, Component } from 'cc';\nimport { MapInfo } from './MapInfo';\nimport { matrix1 } from './Square';\nconst { ccclass, property } = _decorator;\n\n/**\n * Predefined variables\n * Name = StableMirror\n * DateTime = Tue Nov 16 2021 17:41:11 GMT+0800 (中國標準時間)\n * Author = XieYe0920\n * FileBasename = StableMirror.ts\n * FileBasenameNoExtension = StableMirror\n * URL = db://assets/scripts/StableMirror.ts\n * ManualUrl = https://docs.cocos.com/creator/3.3/manual/zh/\n *\n */\n \n@ccclass('StableMirror')\nexport class StableMirror extends Component {\n    @property\n    id:number = 0;\n    @property\n    dir:number = 0;\n    public squarex:number;\n    public squarey:number;\n\n    onLoad() {\n        let x:number = this.node.getPosition().x;\n        let y:number = this.node.getPosition().y;\n        if(x>=MapInfo.xstart1() && x<=MapInfo.xend1() && y>=MapInfo.ystart1() && y<=MapInfo.yend1()){\n            this.squarex = Math.floor((x - MapInfo.xstart1())/MapInfo.totalsize());\n            this.squarey = Math.floor((y - MapInfo.ystart1())/MapInfo.totalsize());\n        }\n        \n        this.node.setPosition(this.squarex*MapInfo.totalsize() + MapInfo.xshift1(), this.squarey*MapInfo.totalsize() + MapInfo.yshift1(), 0);\n        this.node.setRotationFromEuler(0, 0, this.dir*45);\n        matrix1[this.squarex*15 + this.squarey].id = this.id;\n        matrix1[this.squarex*15 + this.squarey].mirrordir = this.dir;\n    }\n}\n\n/**\n * [1] Class member could be defined like this.\n * [2] Use `property` decorator if your want the member to be serializable.\n * [3] Your initialization goes here.\n * [4] Your update function goes here.\n *\n * Learn more about scripting: https://docs.cocos.com/creator/3.3/manual/zh/scripting/\n * Learn more about CCClass: https://docs.cocos.com/creator/3.3/manual/zh/scripting/ccclass.html\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.3/manual/zh/scripting/life-cycle-callbacks.html\n */\n"]}